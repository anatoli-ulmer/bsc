% clear all;	
% phi= (1 + sqrt(5)) / 2;
% b = 1 / phi;
%         c = 2 - phi;
%         
%  v=cat(3, ...
% [0  1/((1+sqrt(5))/2) -1;    1/((1+sqrt(5))/2)  1  0;   -1/((1+sqrt(5))/2)  1  0; ], ...
% [0  1/((1+sqrt(5))/2)  1;   -1/((1+sqrt(5))/2)  1  0;    1/((1+sqrt(5))/2)  1  0; ], ...
% [0  1/((1+sqrt(5))/2)  1;    0 -1/((1+sqrt(5))/2)  1;   -1  0  1/((1+sqrt(5))/2); ], ...
% [0  1/((1+sqrt(5))/2)  1;    1  0  1/((1+sqrt(5))/2);    0 -1/((1+sqrt(5))/2)  1; ], ...
% [0  1/((1+sqrt(5))/2) -1;    0 -1/((1+sqrt(5))/2) -1;    1  0 -1/((1+sqrt(5))/2); ], ...
% [0  1/((1+sqrt(5))/2) -1;   -1  0 -1/((1+sqrt(5))/2);    0 -1/((1+sqrt(5))/2) -1; ], ...
% [0 -1/((1+sqrt(5))/2)  1;    1/((1+sqrt(5))/2) -1  0;   -1/((1+sqrt(5))/2) -1  0; ], ...
% [0 -1/((1+sqrt(5))/2) -1;   -1/((1+sqrt(5))/2) -1  0;    1/((1+sqrt(5))/2) -1  0; ], ...
% [-1/((1+sqrt(5))/2)  1  0;   -1  0  1/((1+sqrt(5))/2);   -1  0 -1/((1+sqrt(5))/2); ], ...
% [-1/((1+sqrt(5))/2) -1  0;   -1  0 -1/((1+sqrt(5))/2);   -1  0  1/((1+sqrt(5))/2); ], ...
% [1/((1+sqrt(5))/2)  1  0;    1  0 -1/((1+sqrt(5))/2);    1  0  1/((1+sqrt(5))/2); ], ...
% [1/((1+sqrt(5))/2) -1  0;    1  0  1/((1+sqrt(5))/2);    1  0 -1/((1+sqrt(5))/2); ], ...
% [0  1/((1+sqrt(5))/2)  1;   -1  0  1/((1+sqrt(5))/2);   -1/((1+sqrt(5))/2)  1  0; ], ...
% [0  1/((1+sqrt(5))/2)  1;    1/((1+sqrt(5))/2)  1  0;    1  0  1/((1+sqrt(5))/2); ], ...
% [0  1/((1+sqrt(5))/2) -1;   -1/((1+sqrt(5))/2)  1  0;   -1  0 -1/((1+sqrt(5))/2); ], ...
% [0  1/((1+sqrt(5))/2) -1;    1  0 -1/((1+sqrt(5))/2);    1/((1+sqrt(5))/2)  1  0; ], ...
% [0 -1/((1+sqrt(5))/2) -1;   -1  0 -1/((1+sqrt(5))/2);   -1/((1+sqrt(5))/2) -1  0; ], ...
% [0 -1/((1+sqrt(5))/2) -1;    1/((1+sqrt(5))/2) -1  0;    1  0 -1/((1+sqrt(5))/2); ], ...
% [0 -1/((1+sqrt(5))/2)  1;   -1/((1+sqrt(5))/2) -1  0;   -1  0  1/((1+sqrt(5))/2); ], ...
% [0 -1/((1+sqrt(5))/2)  1;    1  0  1/((1+sqrt(5))/2);    1/((1+sqrt(5))/2) -1  0; ] ...
% );
% % %    v=cat(3, ... 
% % % [c  0  1;   -c  0  1;   -b  b  b;    0  1  c;    b  b  b ],...
% % % [-c  0  1;    c  0  1;    b -b  b;    0 -1  c;   -b -b  b ], ...
% % % [c  0 -1;   -c  0 -1;   -b -b -b;    0 -1 -c;    b -b -b ], ...
% % % [-c  0 -1;    c  0 -1;    b  b -b;    0  1 -c;   -b  b -b ], ...
% % % [0  1 -c;    0  1  c;    b  b  b;    1  c  0;    b  b -b ], ...
% % % [0  1  c;    0  1 -c;   -b  b -b;   -1  c  0;   -b  b  b ], ...
% % % [0 -1 -c;    0 -1  c;   -b -b  b;   -1 -c  0;   -b -b -b ], ...
% % % [0 -1  c;    0 -1 -c;    b -b -b;    1 -c  0;    b -b  b ], ...
% % % [1  c  0;    1 -c  0;    b -b  b;    c  0  1;    b  b  b ], ...
% % % [1 -c  0;    1  c  0;    b  b -b;    c  0 -1;    b -b -b ], ...
% % % [-1  c  0;   -1 -c  0;   -b -b -b;   -c  0 -1;   -b  b -b ], ...
% % % [-1 -c  0;   -1  c  0;   -b  b  b;   -c  0  1;   -b -b  b ] ...
% % % );     
% 
% % a = 1 / 2 ;
% % b = 1 / (2 * phi);
% % phi  = (1 + sqrt(5)) / 2;
% % v=cat(3, ... 
% % [0  b -a;    b  a  0;   -b  a  0], ...
% % [0  b  a;   -b  a  0;    b  a  0], ...
% % [0  b  a;    0 -b  a;   -a  0  b], ...
% % [0  b  a;    a  0  b;    0 -b  a], ...
% % [0  b -a;    0 -b -a;    a  0 -b], ...
% % [0  b -a;   -a  0 -b;    0 -b -a], ...
% % [0 -b  a;    b -a  0;   -b -a  0], ...
% % [0 -b -a;   -b -a  0;    b -a  0], ...
% % [-b  a  0;   -a  0  b;   -a  0 -b], ...
% % [-b -a  0;   -a  0 -b;   -a  0  b], ...
% % [b  a  0;    a  0 -b;    a  0  b], ...
% % [b -a  0;    a  0  b;    a  0 -b], ...
% % [0  b  a;   -a  0  b;   -b  a  0], ...
% % [0  b  a;    b  a  0;    a  0  b], ...
% % [0  b -a;   -b  a  0;   -a  0 -b], ...
% % [0  b -a;    a  0 -b;    b  a  0], ...
% % [0 -b -a;   -a  0 -b;   -b -a  0], ...
% % [0 -b -a;    b -a  0;    a  0 -b], ...
% % [0 -b  a;   -b -a  0;   -a  0  b], ...
% % [0 -b  a;    a  0  b;    b -a  0]...
% % );
% 
% hold on;
% for n=1:20
% x=v(:,1,n);
% y=v(:,2,n);
% z=v(:,3,n);
% fill3(x,y,z,1);
% axis square;
% end
% 
N=1000;
Nz=1000;

tic
c=gpuArray.zeros(N,N);
for n=1:Nz
    tmp=rand(N,N,'gpuArray');
    d=fft2(tmp);
    c=c+d;
end
gather(c);
    toc
    
